<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JoshuaSubs - Shin Chan en Espa√±ol</title>
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;500;600;700&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <h1>üéå JoshuaSubs</h1>
                    <span class="tagline">Shin Chan en Espa√±ol</span>
                </div>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link active">üè† Inicio</a></li>
                    <li><a href="episodios.html" class="nav-link">üé¨ Episodios</a></li>
                    <li><a href="acerca.html" class="nav-link">üë§ Acerca</a></li>
                    <!-- NUEVO: Bot√≥n de refrescar -->
                    <li><button class="refresh-btn" onclick="refreshPage()" title="Refrescar para ver nuevos episodios">
                        <i class="fas fa-sync-alt"></i> Actualizar
                    </button></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">¬°Disfruta de Shin Chan subtitulado por Joshua Plata!</h1>
            <p class="hero-subtitle">Los mejores episodios con subt√≠tulos de calidad profesional</p>
            
            <!-- Contador -->
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">üì∫</div>
                    <div class="stat-number" id="episodeCount">0</div>
                    <div class="stat-label">Episodios Disponibles</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üëÄ</div>
                    <div class="stat-number" id="totalViews">0</div>
                    <div class="stat-label">Total Visualizaciones</div>
                </div>
                <!-- NUEVO: Bot√≥n de actualizaci√≥n en hero -->
                <div class="stat-card refresh-card">
                    <button class="hero-refresh-btn" onclick="smartRefresh()" title="Buscar nuevos episodios">
                        <div class="stat-icon">üîÑ</div>
                        <div class="stat-label">Buscar Nuevos Episodios</div>
                    </button>
                </div>
            </div>
        </div>
        <div class="hero-image">
            <div class="floating-icon">üéå</div>
        </div>
    </section>

    <!-- NUEVO: Notificaci√≥n de actualizaci√≥n -->
    <div id="updateNotification" class="update-notification hidden">
        <div class="notification-content">
            <i class="fas fa-info-circle"></i>
            <span>¬°Hay nuevos episodios disponibles!</span>
            <button onclick="forceRefresh()" class="notification-btn">Actualizar Ahora</button>
            <button onclick="closeNotification()" class="notification-close">&times;</button>
        </div>
    </div>

    <!-- Episodios Destacados -->
    <section class="featured-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">‚≠ê Episodios Destacados</h2>
                <button class="section-refresh-btn" onclick="refreshSection('featured')" title="Actualizar destacados">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
            <div class="episodes-grid" id="featuredEpisodes">
                <!-- Los episodios destacados se cargar√°n aqu√≠ -->
            </div>
        </div>
    </section>

    <!-- Nuevos Episodios -->
    <section class="new-episodes-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">üÜï Nuevos Episodios</h2>
                <button class="section-refresh-btn" onclick="refreshSection('new')" title="Actualizar nuevos">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
            <div class="episodes-grid" id="newEpisodes">
                <!-- Los nuevos episodios se cargar√°n aqu√≠ -->
            </div>
        </div>
    </section>

    <!-- Modal para reproducir episodios -->
    <div id="videoModal" class="modal">
        <div class="modal-content">
            <!-- El contenido se genera din√°micamente -->
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>JoshuaSubs</h3>
                    <p>Subt√≠tulos de calidad para Shin Chan</p>
                    <p class="last-updated">√öltima actualizaci√≥n: <span id="lastUpdate">Cargando...</span></p>
                </div>
                <div class="footer-section">
                    <h4>Enlaces</h4>
                    <ul>
                        <li><a href="#">üì± Canal de Telegram</a></li>
                        <li><a href="acerca.html">üë§ Sobre Joshua Plata</a></li>
                        <li><button onclick="forceRefresh()" class="footer-refresh">üîÑ Forzar Actualizaci√≥n</button></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <small>Este sitio no almacena ning√∫n archivo en nuestro servidor. Todos los videos est√°n enlazados desde servicios externos como DailyMotion.</small>
            </div>
        </div>
    </footer>

    <script src="js/episodios.js"></script>
    <script src="js/main.js"></script>
    <script src="js/refresh.js"></script>
</body>
</html>
